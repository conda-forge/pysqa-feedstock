From f7aa3551b305e1706c985953d93c5320c81c616b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Jan=20Jan=C3=9Fen?= <janssen@mpie.de>
Date: Tue, 3 Oct 2023 23:51:15 +0200
Subject: [PATCH] fix command line

---
 pysqa/__main__.py | 2 +-
 pysqa/cmd.py      | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

diff --git a/pysqa/__main__.py b/pysqa/__main__.py
index 46d86a4..1f0e4eb 100644
--- a/pysqa/__main__.py
+++ b/pysqa/__main__.py
@@ -3,4 +3,4 @@
 from pysqa.cmd import command_line
 
 if __name__ == "__main__":
-    command_line(sys.argv[1:])
+    command_line(arguments_lst=sys.argv[1:])
diff --git a/pysqa/cmd.py b/pysqa/cmd.py
index 8c0bea3..747bb8e 100644
--- a/pysqa/cmd.py
+++ b/pysqa/cmd.py
@@ -7,7 +7,7 @@
 from pysqa.utils.execute import execute_command
 
 
-def command_line(argv, execute_command=execute_command):
+def command_line(arguments_lst=None, execute_command=execute_command):
     """
     Parse the command line arguments.
 
@@ -25,9 +25,11 @@ def command_line(argv, execute_command=execute_command):
     run_time_max = None
     command = None
     job_id = None
+    if arguments_lst is None:
+        arguments_lst = sys.argv[1:]
     try:
         opts, args = getopt.getopt(
-            argv,
+            arguments_lst,
             "f:pq:j:w:n:m:t:b:c:ri:dslh",
             [
                 "config_directory=",
